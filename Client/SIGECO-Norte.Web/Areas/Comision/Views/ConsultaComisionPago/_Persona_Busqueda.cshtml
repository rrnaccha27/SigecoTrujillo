<div class="easyui-layout" data-options="fit:true">
    <div data-options="region:'north', border:false" style="padding:5px;">
        <input class="easyui-textbox" id="PersonalNombre" name="PersonalNombre" data-options="buttonText:'Buscar',buttonAlign:'right',buttonIcon:'icon-search'" style="width:50%;">
    </div>
    <div data-options="region:'south'" style="padding:10px;">
        <div style="height:100%">
            <label class="colGridModal" style="color:#f56363;">(*) Para seleccionar  haga doble click sobre un registro.</label>
        </div>
    </div>
    <div data-options="region:'center'" style="padding:5px;">
        <table id="dgv_persona" style="width: 100%;height:100%"></table>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {

        $('#PersonalNombre').textbox({
            onClickButton: function () {
                fnBuscarPersonal();
            }
        });

        $('#dgv_persona').datagrid({
            fitColumns: true,
            idField: 'codigo_personal',
            url: '@Url.Action("GetPersonalByNombreJson", "ConsultaComisionPago", new { area = "Comision" })',
            singleSelect: true,
            queryParams: { texto: "" },
           // loader: loaderPersona,
            rownumbers: true,
            pageList: [20, 60, 80, 100, 150],
            pageSize: 20,
            pagination: true,
            columns:
            [[
                { field: 'codigo_personal', hidden: true },
                { field: 'codigo_equivalencia', title: 'Código', width: 20, align: 'left' },
                { field: 'nombres', title: 'Nombres', width: 70, align: 'left' },
                { field: 'nombre_canal', title: 'Canal', width: 30, align: 'left' },
                { field: 'usuario_registra', hidden: true },
            ]],
            onDblClickRow: function (index, row) {
                $("#txt_nombre_personal").textbox("setText", row['nombres']);
                ActionIndexUrl.codigo_personal = row['codigo_personal'];
                $("#div_listado_personal").dialog("close");
            }
        });

        $('#dgv_persona').datagrid('enableFilter');

        $(window).resize(function () {
            $('#dgv_persona').datagrid('resize');
        });
    });

    function fnBuscarPersonal() {
        var item = {
            texto: $.trim($("#PersonalNombre").textbox('getText'))
        };
        $('#dgv_persona').datagrid('reload', item);
    }

    </script>
